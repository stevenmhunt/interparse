(function(){var n,t,r,e,u,i,s,o,a,l,f,p=[].slice;s="interparse",i=function(n,t){var r,e,u,i,s;for(u=0,s=[];u<n.length;){if(e=n.indexOf(t.start,u),!(e>-1)){s.push(n.substring(u));break}e>0&&s.push(n.substring(u,e)),i=e+t.start.length,r=n.indexOf(t.end,i),-1===r&&(r=n.length-t.end.length),r+=t.end.length,s.push(n.substring(e,r)),u=r}return s},u=function(n,t){var r,e;return e=0===n.indexOf(t.start),r=n.indexOf(t.end)===n.length-t.end.length,e&&r},r=function(n,t){var r,e;return e=t.start.length,r=n.length-t.end.length,n.substring(e,r).trim()},l=function(n){return"("+n+")"},f=function(n){return'"'+n+'"'},n=function(n,t){var e,i,s,a,p,d;for(s="",e=" + ",p=0,d=n.length;d>p;p++)a=n[p],u(a,t)?(i=r(a,t),s+=e+l(i),o(i,t)):s+=e+f(a);return s.length>=e.length?s.substring(e.length):""},o=function(n,t){var r,e;return null==t.params&&(t.params=[]),e=n.split(".")[0].split("[")[0].split("(")[0],r=/^[a-z0-9]+$/i.test(e),r&&t.params.indexOf(-1===e)?t.params.push(e):void 0},t=function(n,t){return function(n,t,r){r.prototype=n.prototype;var e=new r,u=n.apply(e,t);return Object(u)===u?u:e}(Function,p.call(t).concat(["return "+n+";"]),function(){})},a=function(n,t){var r,e,u,i,s,o,a;if(Array.isArray(n))return n;if("string"==typeof n)return[n];for(u=[],a=t.params,s=0,o=a.length;o>s;s++){e=a[s];for(r in n)i=n[r],r===e&&u.push(i)}return u},e=function(r,e,u){var s,o,l;return"string"==typeof r&&"string"!=typeof e&&(l=[e,r],r=l[0],e=l[1]),"string"==typeof r&&(o=r.split("<value>"),r={start:o[0],end:o[1]}),r=r||{},r.start=r.start||"{{",r.end=r.end||"}}",r.params=r.params||[],s=function(e,u){var s,o,l,f;return f=i(e,r),l=n(f,r),s=t(l,r.params),o=function(n){return s.apply(null,a(n,r))},null!=u?o(u):o},1===arguments.length?s:s(e,u)},function(){return"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports=e:"function"==typeof("undefined"!=typeof require&&null!==require?require.specified:void 0)&&require.specified(s)?define(s,[],function(){return e}):"undefined"!=typeof window&&null!==window?window.interparse=e:e}()}).call(this);